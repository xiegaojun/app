(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b7d2d3"],{"0218":function(t,e,s){"use strict";var n=s("0472"),i=s.n(n);i.a},"0472":function(t,e,s){},"5a22":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"userinfo"}},[s("mt-header",{staticClass:"userinfo_header",attrs:{title:"修改信息"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){return t.$router.push("/home/me")}},slot:"left"})],1),s("van-cell-group",{staticClass:"userinfo_body"},[s("van-cell",{attrs:{title:"头像"},on:{click:t.onUserHeader}},[s("van-icon",{attrs:{slot:"right-icon",name:t.user.user_header},slot:"right-icon"})],1),s("van-cell",{attrs:{title:"昵称","is-link":"",value:t.user.user_nick||"未设置"},on:{click:t.onUserNick}}),s("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:t.onUserPwd}})],1),s("mt-actionsheet",{attrs:{actions:t.actions,cancelText:"取消"},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}}),s("input",{attrs:{id:"photo",type:"file",name:"cover"}})],1)},i=[],o=s("cebc"),r=s("2f62"),a={name:"userinfo",data:function(){return{sheetVisible:!1,actions:[{name:"相册",method:this.photo}]}},computed:Object(o["a"])({},Object(r["c"])(["host","user"])),methods:Object(o["a"])({},Object(r["b"])(["setUser"]),{onUserNick:function(){this.isLogin()?this.$router.push("/usernick"):this.$router.push("/login")},onUserPwd:function(){this.isLogin()?this.$router.push("/userpwd"):this.$router.push("/login")},onUserHeader:function(){this.isLogin()?this.sheetVisible=!0:this.$router.push("/login")},photo:function(){var t=this,e=document.getElementById("photo");e.onclick=function(){this.value=""},e.click(),e.onchange=function(e){var s=e.target.files[0]||e.dataTransfer.files[0];if(s){var n=new FormData;n.append("file",s),t.user?t.$http.post(t.host+"/userHeader",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.result(e.data)&&(t.user.user_header=e.data.result,t.setUser(t.user),t.$dialog.alert({title:"提示",closeOnClickOverlay:!0,confirmButtonColor:"#D81E06",message:"修改头像成功"}))}):t.$router.push("/login")}}}})},c=a,l=(s("0218"),s("2877")),u=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-76b7d2d3.7e7cc5b1.js.map