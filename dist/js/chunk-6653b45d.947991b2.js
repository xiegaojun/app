(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6653b45d"],{"057c":function(e,t,s){},"5e6d":function(e,t,s){"use strict";var r=s("057c"),n=s.n(r);n.a},9822:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"usernick"}},[s("mt-header",{staticClass:"usernick_header",attrs:{title:"修改昵称"}},[s("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){return e.$router.go(-1)}},slot:"left"})],1),s("van-cell-group",{staticClass:"usernick_group"},[s("van-field",{attrs:{"left-icon":"contact",label:"昵称",placeholder:"请输入新昵称","error-message":e.usernick_err},on:{focus:e.onUserFocus},model:{value:e.usernick,callback:function(t){e.usernick=t},expression:"usernick"}})],1),s("div",{staticClass:"usernick_btn"},[s("mt-button",{staticClass:"usernick",staticStyle:{width:"80%"},attrs:{type:"danger"},on:{click:e.onUserNick}},[e._v("保存")])],1)],1)},n=[],c=s("cebc"),i=s("2f62"),u={name:"usernick",data:function(){return{usernick:"",usernick_err:""}},mounted:function(){this.usernick=this.user.user_nick},computed:Object(c["a"])({},Object(i["c"])(["host","user"])),methods:Object(c["a"])({},Object(i["b"])(["setUser"]),{onUserFocus:function(){this.usernick_err=""},onUserNick:function(){var e=this;this.user?this.usernick?this.user.user_nick==this.usernick?this.usernick_err="昵称已存在":this.$http.get(this.host+"/usernick",{params:{usernick:this.usernick}}).then(function(t){e.result(t.data)?e.$http.get(e.host+"/usernick",{params:{usernick:e.usernick,uid:e.user.id}}).then(function(t){e.result(t.data)?(e.user.user_nick=e.usernick,e.setUser(e.user),e.$router.push("/userinfo")):154==t.data.state&&(e.usernick_err="昵称已存在")}):151==t.data.state&&(e.usernick_err="昵称已存在")}):this.usernick_err="昵称不能为空":this.$router.push("/login")}})},a=u,o=(s("5e6d"),s("2877")),k=Object(o["a"])(a,r,n,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-6653b45d.947991b2.js.map