(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f207597"],{2118:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"wait_payment"}},[i("mt-header",{staticClass:"payment_header",attrs:{fixed:"",title:"待付款"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){return t.$router.go(-1)}},slot:"left"})],1),i("div",{staticClass:"payment_goods"},[t.order.length<=0?i("div",{staticClass:"is_null"},[i("img",{attrs:{src:r("3989")}}),i("p",[t._v("目前没有订单需要付款")])]):i("div",{staticClass:"is_have"},[i("van-checkbox-group",{model:{value:t.order_result,callback:function(e){t.order_result=e},expression:"order_result"}},t._l(t.order,function(e,r){return i("div",{key:r,staticClass:"checkbox"},[i("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center"}},[i("van-checkbox",{attrs:{name:e,"checked-color":"#D81E06"}})],1),i("car",{staticStyle:{flex:"6"},attrs:{data:e},on:{onDelete:t.onDelete}})],1)}),0),i("div",{staticClass:"payment_order"},[i("van-checkbox",{staticClass:"item-1",attrs:{"checked-color":"#D81E06"},model:{value:t.order_all,callback:function(e){t.order_all=e},expression:"order_all"}},[t._v("全选")]),i("div",{staticClass:"item-2"},[t._v("合计："),i("span",{staticStyle:{color:"red"}},[t._v("¥"+t._s(t._f("toPrice")(t.all_price)))])]),i("div",{staticClass:"item-3",on:{click:t.onOrders}},[t._v("付款")])],1)],1)]),i("div",{staticClass:"payment_like"},[t._m(0),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-distance":"100"}},[i("div",{staticClass:"like_goods"},[i("ul",{staticClass:"like_list1"},t._l(t.goods1,function(e,r){return i("li",{key:r,on:{click:function(r){return t.onJoin(e.id)}}},[i("goods-h",{attrs:{name:e.name,img:e.img,volume:e.volume,price:e.price}})],1)}),0),i("ul",{staticClass:"like_list2"},t._l(t.goods2,function(e,r){return i("li",{key:r,on:{click:function(r){return t.onJoin(e.id)}}},[i("goods-h",{attrs:{name:e.name,img:e.img,volume:e.volume,price:e.price}})],1)}),0)])])])],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title clear"},[r("div",[r("span")]),r("div",{staticStyle:{width:"30%"}},[t._v("猜你喜欢")]),r("div",[r("span")])])}],o=(r("ac6a"),r("cebc")),n=r("2f62"),a={name:"wait_payment",data:function(){return{goods1:[],goods2:[],order:[],order_result:[],order_all:!1}},watch:{order_result:function(){this.order_result.length==this.order.length?this.order_all=!0:this.order_all=!1},order_all:function(){this.order_all?this.order_result=this.order:this.order_result.length==this.order.length&&(this.order_result=[])}},created:function(){var t=this;this.user&&this.$http.get(this.host+"/getCar",{params:{uid:this.user.id,state:1}}).then(function(e){t.result(e.data)&&(t.order=e.data.result)})},computed:Object(o["a"])({},Object(n["c"])(["host","user"]),{all_price:function(){for(var t=0,e=0;e<this.order_result.length;e++)t+=this.order_result[e].price*this.order_result[e].num;return t},order_id:function(){var t=[];return this.order_result.forEach(function(e){t.push(e.id)}),t}}),methods:Object(o["a"])({},Object(n["b"])(["setUser"]),{onJoin:function(t){this.$router.push({path:"/goods_info/".concat(t)})},loadMore:function(){var t=this;this.$http.get(this.host+"/goods").then(function(e){var r=e.data.result;t.result(e.data)&&(t.goods1=t.goods1.concat(r.slice(0,Math.floor(r.length/2))),t.goods2=t.goods2.concat(r.slice(Math.floor(r.length/2),r.length)))})},onOrders:function(){var t=this;this.user?0!=this.order_result&&this.$dialog.confirm({title:"提示",closeOnClickOverlay:!0,confirmButtonColor:"#D81E06",message:"一共".concat(this.all_price/100,"元，是否购买？")}).then(function(){t.$http.get(t.host+"/buy",{params:{uid:t.user.id,order_id:t.order_id,price:t.all_price}}).then(function(e){t.result(e.data)&&(t.user.points+=Math.round(t.all_price/1e4),t.setUser(t.user),t.$router.push("/buy_ok/".concat(t.all_price)))})}):this.$router.push("/login")},onDelete:function(t){var e=this;this.user?this.$http.get(this.host+"/delOrder",{params:{uid:this.user.id,order_id:t}}).then(function(r){e.result(r.data)&&(e.order=e.order.filter(function(e){return e.id!=t}))}):this.$router.push("login")}})},l=a,c=(r("521f"),r("2877")),u=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=u.exports},3989:function(t,e,r){t.exports=r.p+"img/me_order_null.07c122a4.png"},"521f":function(t,e,r){"use strict";var i=r("8b26"),s=r.n(i);s.a},"8b26":function(t,e,r){},ac6a:function(t,e,r){for(var i=r("cadf"),s=r("0d58"),o=r("2aba"),n=r("7726"),a=r("32e9"),l=r("84f2"),c=r("2b4c"),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=s(f),p=0;p<_.length;p++){var m,g=_[p],v=f[g],k=n[g],L=k&&k.prototype;if(L&&(L[u]||a(L,u,h),L[d]||a(L,d,g),l[g]=h,v))for(m in i)L[m]||o(L,m,i[m],!0)}}}]);
//# sourceMappingURL=chunk-1f207597.3991b3bc.js.map