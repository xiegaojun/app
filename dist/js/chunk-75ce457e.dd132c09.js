(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75ce457e"],{"0276":function(e,s,t){"use strict";var r=t("2f9b"),n=t.n(r);n.a},"2f9b":function(e,s,t){},9907:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"login"}},[t("mt-header",{staticClass:"login_header",attrs:{title:"登录"}},[t("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:e.onBack},slot:"left"})],1),t("van-cell-group",{staticClass:"login_group"},[t("van-field",{attrs:{"left-icon":"contact",label:"用户名","label-align":"center",placeholder:"请输入账号","right-icon":e.userOK,"error-message":e.username_err},on:{focus:e.onUserFocus,blur:e.onUserBlur},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),t("van-field",{attrs:{type:"password","left-icon":"closed-eye","label-align":"center",label:"密码",placeholder:"请输入密码","error-message":e.password_err},on:{focus:e.onPwdFocus},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}})],1),t("div",{staticClass:"login_btn"},[t("mt-button",{staticClass:"login_login",attrs:{size:"small",type:"danger"},on:{click:e.onLogin}},[e._v("登录")]),t("mt-button",{staticClass:"login_register",attrs:{size:"small",type:"danger"},on:{click:e.onRegister}},[e._v("注册")])],1)],1)},n=[],a=t("cebc"),o=t("2f62"),i={name:"login",data:function(){return{username:"",password:"",username_err:"",password_err:"",userOK:""}},computed:Object(a["a"])({},Object(o["c"])(["host"])),methods:Object(a["a"])({},Object(o["b"])(["setUser"]),{onBack:function(){this.$router.push("/home/me")},onUserFocus:function(){this.username_err="",this.userOK=""},onUserBlur:function(){var e=this;this.username?this.$http.get(this.host+"/login",{params:{username:this.username}}).then(function(s){e.result(s.data)?e.userOK="https://m.xiegaojun.cn/headerImg/success.png":139==s.data.state&&(e.username_err="用户名不存在")}):this.username_err="用户名不能为空"},onPwdFocus:function(){this.password_err=""},onLogin:function(){var e=this;this.username?this.password?this.$http.post(this.host+"/login",{username:this.username,password:this.password}).then(function(s){e.result(s.data)?(e.setUser(s.data.result),e.$router.push("/home/me")):142==s.data.state&&(e.password_err="密码错误")}):this.password_err="密码不能为空":this.username_err="用户名不能为空"},onRegister:function(){this.$router.push("/register")}})},u=i,c=(t("0276"),t("2877")),l=Object(c["a"])(u,r,n,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-75ce457e.dd132c09.js.map